{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import ChannelList from'./ChannelList';import MessageList from'./MessageList';import ReplyList from'./ReplyList';import ProfilePage from'./Profile';import LoginPage from'./LoginPage';import ProtectedRoute from'./ProtectedRoute';import{useParams}from'react-router-dom';import'./App.css';// Create a component to handle channel and message display logic\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChannelAndMessages(){let{channelId,messageId}=useParams();// Grab channelId and messageId from URL\nconst[visibleComponent,setVisibleComponent]=useState('channelList');const[selectedMessageId,setSelectedMessageId]=useState(null);useEffect(()=>{// React to changes in messageId from the URL\nsetSelectedMessageId(messageId);},[messageId,channelId]);// React to changes in both messageId and channelId\n// Function to close the ReplyList and navigate back to the channel view\nconst closeReplyList=()=>setSelectedMessageId(null);return/*#__PURE__*/_jsxs(\"div\",{className:\"channel-content\",children:[/*#__PURE__*/_jsx(ChannelList,{currentChannel:channelId}),/*#__PURE__*/_jsx(MessageList,{currentChannel:channelId,setSelectedMessageId:setSelectedMessageId}),selectedMessageId&&/*#__PURE__*/_jsx(ReplyList,{messageId:selectedMessageId,onClose:closeReplyList})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/channels/:channelId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChannelAndMessages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/channels/:channelId/replies/:messageId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChannelAndMessages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/channels/1\"})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","ChannelList","MessageList","ReplyList","ProfilePage","LoginPage","ProtectedRoute","useParams","jsx","_jsx","jsxs","_jsxs","ChannelAndMessages","channelId","messageId","visibleComponent","setVisibleComponent","selectedMessageId","setSelectedMessageId","closeReplyList","className","children","currentChannel","onClose","App","path","element","replace","to"],"sources":["/Users/rdi28/Desktop/WebDev/FinalProject2/final-project-belay-ron-di28/app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport ChannelList from './ChannelList';\nimport MessageList from './MessageList';\nimport ReplyList from './ReplyList';\nimport ProfilePage from './Profile';\nimport LoginPage from './LoginPage';\nimport ProtectedRoute from './ProtectedRoute';\nimport { useParams } from 'react-router-dom';\nimport './App.css'\n\n\n// Create a component to handle channel and message display logic\nfunction ChannelAndMessages() {\n  let { channelId, messageId } = useParams(); // Grab channelId and messageId from URL\n  const [visibleComponent, setVisibleComponent] = useState('channelList');\n  const [selectedMessageId, setSelectedMessageId] = useState(null);\n\n  useEffect(() => {\n    // React to changes in messageId from the URL\n    setSelectedMessageId(messageId);\n  }, [messageId, channelId]); // React to changes in both messageId and channelId\n\n  // Function to close the ReplyList and navigate back to the channel view\n  const closeReplyList = () => setSelectedMessageId(null);\n\n  return (\n    <div className=\"channel-content\">\n      <ChannelList currentChannel={channelId} />\n      <MessageList currentChannel={channelId} setSelectedMessageId={setSelectedMessageId} />\n      {selectedMessageId && <ReplyList messageId={selectedMessageId} onClose={closeReplyList} />}\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"app\">\n        <Routes>\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/profile\" element={<ProtectedRoute><ProfilePage /></ProtectedRoute>} />\n          <Route path=\"/channels/:channelId\" element={<ProtectedRoute><ChannelAndMessages /></ProtectedRoute>} />\n          <Route path=\"/channels/:channelId/replies/:messageId\" element={<ProtectedRoute><ChannelAndMessages /></ProtectedRoute>} />\n          <Route path=\"/\" element={<Navigate replace to=\"/channels/1\" />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}