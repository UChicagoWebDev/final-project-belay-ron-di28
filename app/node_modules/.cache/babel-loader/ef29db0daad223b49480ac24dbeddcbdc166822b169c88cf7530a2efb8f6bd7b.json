{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{useNavigate}from'react-router-dom';import ChannelList from'./ChannelList';import MessageList from'./MessageList';import ReplyList from'./ReplyList';import ProfilePage from'./Profile';import LoginPage from'./LoginPage';import ProtectedRoute from'./ProtectedRoute';import{useParams}from'react-router-dom';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useWindowSize(){const[size,setSize]=useState([window.innerWidth]);useEffect(()=>{const handleResize=()=>{setSize([window.innerWidth]);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return size;}function ChannelAndMessages(){let{channelId,messageId}=useParams();const[width]=useWindowSize();const isNarrowScreen=width<768;const navigate=useNavigate();useEffect(()=>{if(!channelId&&isNarrowScreen){navigate('/channels');}},[channelId,isNarrowScreen,navigate]);const renderContent=()=>{// Logic to display ChannelList by default on narrow screens\nif(isNarrowScreen&&!channelId&&!messageId){return/*#__PURE__*/_jsx(ChannelList,{});}if(isNarrowScreen){if(messageId){return/*#__PURE__*/_jsx(ReplyList,{messageId:messageId,onClose:()=>navigate(\"/channels/\".concat(channelId))});}else if(channelId){return/*#__PURE__*/_jsx(MessageList,{currentChannel:channelId});}}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChannelList,{}),/*#__PURE__*/_jsx(MessageList,{currentChannel:channelId}),messageId&&/*#__PURE__*/_jsx(ReplyList,{messageId:messageId,onClose:()=>navigate(\"/channels/\".concat(channelId))})]});}};return/*#__PURE__*/_jsx(\"div\",{className:\"channel-content\",children:renderContent()});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/channels\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChannelAndMessages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/channels/:channelId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChannelAndMessages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/channels/:channelId/replies/:messageId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChannelAndMessages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/channels/1\"})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","useNavigate","ChannelList","MessageList","ReplyList","ProfilePage","LoginPage","ProtectedRoute","useParams","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useWindowSize","size","setSize","window","innerWidth","handleResize","addEventListener","removeEventListener","ChannelAndMessages","channelId","messageId","width","isNarrowScreen","navigate","renderContent","onClose","concat","currentChannel","children","className","App","path","element","replace","to"],"sources":["/Users/rdi28/Desktop/WebDev/FinalProject2/final-project-belay-ron-di28/app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport ChannelList from './ChannelList';\nimport MessageList from './MessageList';\nimport ReplyList from './ReplyList';\nimport ProfilePage from './Profile';\nimport LoginPage from './LoginPage';\nimport ProtectedRoute from './ProtectedRoute';\nimport { useParams } from 'react-router-dom';\nimport './App.css'\n\n\nfunction useWindowSize() {\n  const [size, setSize] = useState([window.innerWidth]);\n\n  useEffect(() => {\n    const handleResize = () => {\n    setSize([window.innerWidth]);\n  };\n\n  window.addEventListener('resize', handleResize);\n  return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return size;\n}\n\nfunction ChannelAndMessages() {\n  let { channelId, messageId } = useParams();\n  const [width] = useWindowSize();\n  const isNarrowScreen = width < 768;\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!channelId && isNarrowScreen) {\n      navigate('/channels'); \n    }\n  }, [channelId, isNarrowScreen, navigate]);\n\n  const renderContent = () => {\n  // Logic to display ChannelList by default on narrow screens\n    if (isNarrowScreen && !channelId && !messageId) {\n      return <ChannelList />;\n    }\n\n    if (isNarrowScreen) {\n      if (messageId) {\n        return <ReplyList messageId={messageId} onClose={() => navigate(`/channels/${channelId}`)} />;\n      } else if (channelId) {\n        return <MessageList currentChannel={channelId} />;\n      } \n    } else {\n      return (\n        <>\n        <ChannelList />\n        <MessageList currentChannel={channelId} />\n        {messageId && <ReplyList messageId={messageId} onClose={() => navigate(`/channels/${channelId}`)} />}\n        </>\n      );\n    }\n  };\n\n  return <div className=\"channel-content\">{renderContent()}</div>;\n}\n\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"app\">\n      <Routes>\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/profile\" element={<ProtectedRoute><ProfilePage /></ProtectedRoute>} />\n        <Route path=\"/channels\" element={<ProtectedRoute><ChannelAndMessages /></ProtectedRoute>} />\n        <Route path=\"/channels/:channelId\" element={<ProtectedRoute><ChannelAndMessages /></ProtectedRoute>} />\n        <Route path=\"/channels/:channelId/replies/:messageId\" element={<ProtectedRoute><ChannelAndMessages /></ProtectedRoute>} />\n        <Route path=\"/\" element={<Navigate replace to=\"/channels/1\" />} />\n      </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}